<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>ToDo APP</title>
</head>
<body>

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'todo/todo_styling.css' %}">
<link href="{% static 'todo/css/bootstrap.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'todo/css/bootstrap-theme.css' %}" rel="stylesheet" type="text/css"/>
<script src="{% static 'todo/js/bootstrap.min.js' %}"></script>

<div class="container-fluid parent-con">
	<div class="row">
		<div class="col-xs-12 col-md-5 mx-auto con">
		<div class="card">

		<nav class="navbar navbar-dark navigation">
			<a href="#" class="navbar-brand">planner</a>
		</nav>
		<div class="card-body">
{% block content %}
		<div class="create_form" Style="margin-top:10px;">
	 		<form action="." method="POST" > {% csrf_token %}
				<span>{{ form.as_p }}</span>
				<input type="submit" id="todo_create_form" value="Add" >
			</form>
		</div>

		<div class="table table-striped" >
			<table>
				<tbody>
					{% for instance in object_list %}
						<tr>
		 					{% if instance.actioned %}
		 						<div>
		 							<td>
		 								<p class="completed"> {{ instance.task }}</p>
		 							</td>
		 						</div>

		 						<div class="completed-task-buttons">
								<form>
									<td></td>
									<td><input type="submit" value="Delete" formaction="{% url 'todo:delete_task' instance.id %}"></td>
									<td><input type="submit" value="Undo" formaction="{% url 'todo:undo_actioned_task' instance.id %}"></td>							
								</form>
								</div>

		 					{% else %}

		 						<td>
		 							<p>{{ instance.task }}</p>
		 						</td>
		 						<td>
		 							<p class="category">
		 								<strong><em>{{instance.category}}</em></strong>
		 							</p>
		 						</td>
		 						<div class="task-buttons">
			 						<form>
										<td><input type="submit" value="Delete" formaction="{% url 'todo:delete_task' instance.id %}"></td>
										<td><input type="submit" value="Edit" formaction="{% url 'todo:edit_task' instance.id %}"></td>
										<td><input type="submit" value="Complete" formaction="{% url 'todo:actioned_task' instance.id %}"></td>							
									</form>
								</div>
		 				{% endif %}	 					
		 				</tr>
	 				{% endfor %}
	 			</tbody>
	 		</table>
	 	</div>

	 {% endblock content %}
		</div>
	</div>
		</div>
	</div>
</div>

</body>
</html>